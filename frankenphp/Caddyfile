{
    # Global options
    frankenphp
    order php_server before file_server
}

# Replace with your domain name
:80 {
    # Set the root directory to Laravel's public folder
    root * /app/public

    # Enable PHP processing
    php_server

    # Handle Laravel's pretty URLs
    try_files {path} {path}/ /index.php?{query}

    # Security headers
    header {
        # Remove server information
        -Server
        # Add security headers
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        X-XSS-Protection "1; mode=block"
        Referrer-Policy strict-origin-when-cross-origin
    }

    # Logging
    log {
        output stdout
        format console
    }

    # Error handling
    handle_errors {
        respond "Error {http.error.status_code}: {http.error.status_text}"
    }
}

# HTTPS configuration (uncomment and modify for production)
# your-domain.com {
#     root * /app/public
#     php_server
#     try_files {path} {path}/ /index.php?{query}
#     
#     header {
#         -Server
#         X-Content-Type-Options nosniff
#         X-Frame-Options DENY
#         X-XSS-Protection "1; mode=block"
#         Referrer-Policy strict-origin-when-cross-origin
#         Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
#     }
#     
#     log {
#         output stdout
#         format console
#     }
# }
